<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Otra Cara de la Moneda</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="section">La Otra Cara de la Moneda</div>
    
        <div class="row1">
            <div class="one">
                <img src="./Gifs/1-Café.gif" alt="1-Café" class="coffe">
            </div>
            <div class="two">
                <img src="./Gifs/2-Máscara.gif" alt="1-Máscara" class="rimmel">
            </div>
             <div class="three">
            <img src="./Gifs/3-Maquillaje.gif" alt="3-Maquillaje" class="makeup">
            </div>
        </div>

        <div class="row2">
            <img src="./Gifs/4-Zapatos.gif" alt="4-Zapatos" class="shoes">
        </div>

        <div class="row4">
            <img src="./Gifs/6-Taxi.gif" alt="6-Taxi" class="taxi">
        </div>

        <div class="row5">
            <img src="./Gifs/7-Marcha.gif" alt="7-Marcha" class="protest">
        </div>

    
        <div class="row6">
            <div class="rectangle">fábrica
            </div>
            <div class="nine">
                <img src="./Gifs/9-Escritorio.gif" alt="9-Escritorio" class="desk">
            </div>
        </div>

        <div class="row7">
            <div class="ten">
                <img src="./Gifs/10-Caminata1.gif" alt="Caminata1" class="walk1">
            </div>
            <div class="eleven">
                <img src="./Gifs/11-Caminata2.gif" alt="Caminata2" class="walk2">
            </div>
             <div class="twelve">
            <img src="./Gifs/12-Caminata3.gif" alt="Caminata3" class="walk3">
            </div>
        </div>

        <div class="row8">
                <img src="./Gifs/14-Crónica_Ojo.gif" alt="14-Crónica_Ojo" class="cronicatv">
        </div>

        <div class="créditos">
            <img src="créditos.png" alt="créditos" class="credits">
       </div>
        <!-- <div class="section section-2">Sección 2</div> -->

    <audio id="audio1" loop>
        <source src="Zapatos.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="audio2" loop>
        <source src="Sonido de calle.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="audio3" loop>
        <source src="Sonido de manifestación.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="audio4" loop>
        <source src="Tinnitus.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

  
    <script>
        const audio1 = document.getElementById('audio1');
        const audio2 = document.getElementById('audio2');
        const audio3 = document.getElementById('audio3');
        const audio4 = document.getElementById('audio4');
        let currentAudio = audio1;

        window.addEventListener('scroll', () => {
            const scrollPosition = window.scrollY + window.innerHeight / 2;
            const section = document.querySelector('.section').offsetTop;
            const row1 = document.querySelector('.row1').offsetTop;
            const row2 = document.querySelector('.row2').offsetTop;
            const row4 = document.querySelector('.row4').offsetTop;
            const row5 = document.querySelector('.row5').offsetTop;
            const row6 = document.querySelector('.row6').offsetTop;
            const row7 = document.querySelector('.row7').offsetTop;
            const row8 = document.querySelector('.row8').offsetTop;
            const credits = document.querySelector('.créditos').offsetTop;

            if (scrollPosition >= credits) {
                fadeOutAllExcept(audio4);
                fadeIn(audio4);
            } else if (scrollPosition >= row8) {
                fadeOutAllExcept(audio4);
                fadeIn(audio4);
            } else if (scrollPosition >= row7) {
                fadeOutAllExcept(audio3);
                fadeIn(audio3);
            } else if (scrollPosition >= row6) {
                fadeOutAllExcept(audio2);
                fadeIn(audio2);
            } else if (scrollPosition >= row5) {
                fadeOutAllExcept(audio3);
                fadeIn(audio3);
            } else if (scrollPosition >= row4) {
                fadeOutAllExcept(audio2);
                fadeIn(audio2);
            } else if (scrollPosition >= section) {
                fadeOutAllExcept(audio1);
                fadeIn(audio1);
            } else {
                fadeOutAllExcept(audio1);
                fadeIn(audio1);
            }
        });

        function fadeOut(audio) {
            let volume = audio.volume;
            const fadeAudio = setInterval(() => {
                if (volume > 0.1) {
                    volume -= 0.1;
                    audio.volume = volume;
                } else {
                    clearInterval(fadeAudio);
                    audio.pause();
                    audio.volume = 1; // Reset volume for next use
                }
            }, 200);
        }

        function fadeIn(audio) {
            audio.volume = 0;
            audio.play();
            let volume = 0;
            const fadeAudio = setInterval(() => {
                if (volume < 1) {
                    volume += 0.1;
                    audio.volume = volume;
                } else {
                    clearInterval(fadeAudio);
                }
            }, 200);
        }

        function fadeOutAllExcept(...exceptions) {
            const audios = [audio1, audio2, audio3, audio4];
            audios.forEach(audio => {
                if (!exceptions.includes(audio)) {
                    fadeOut(audio);
                }
            });
        }

        // Iniciar la reproducción del primer audio
        window.onload = () => {
            audio1.play();
        };
    </script>
</body>
</html>
